(this["webpackJsonprobot-web-viewer"]=this["webpackJsonprobot-web-viewer"]||[]).push([[0],{205:function(e,t,n){e.exports=n(493)},493:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(50),a=n.n(i),s=n(200),c=n(21),u=n(189),l=n.n(u),b=n(90),f=n(20),j=n(190),h=n.n(j),p=n(8),g=n(0),m=n(7),d=n(100),v=n(97),O=n(201),w=n(140),x=n(42);function y(){var e=Object(b.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: #272727;\n"]);return y=function(){return e},e}var M=Object(f.css)(y()),F=new g.Vector2,k=new g.Raycaster,E=function(e){return e.isURDFJoint&&"fixed"!==e.jointType},P=function(e){var t,n=e.filepath,i=o.a.useState(null),a=Object(p.a)(i,2),s=a[0],c=a[1],u=Object(m.h)(),l=u.camera,b=u.gl,j=Object(x.b)("Pos X",{type:"number",spring:!0}),h=Object(x.b)("Pos Y",{type:"number",spring:!0}),w=Object(x.b)("Pos Z",{type:"number",spring:!0}),y=Object(r.useRef)(),M=Object(m.g)(O.a,n,(function(e){e.loadMeshFunc=function(e,t,n){new v.a(t).load(e,(function(e){var t=new g.MeshPhongMaterial,r=new g.Mesh(e,t);n(r)}),null,(function(e){return n(null,e)}))},e.fetchOptions={headers:{Accept:"application/vnd.github.v3.raw"}}}));t=Object(r.useMemo)((function(){return Object.keys(M.joints)}),[M]);var P=Object(x.b)("jointName",{type:"select",items:t});Object(x.b)("jointAngle",{type:"number",value:M.joints[P].angle,min:-6.28,max:6.28,onChange:function(e){M.joints[P].setAngle(e)}});var _=new g.MeshPhongMaterial({shininess:10,color:"#FFFFFF",emissive:"#FFFFFF",emissiveIntensity:.25}),R=function(e,t){!function n(r){if("Mesh"===r.type&&(t?(r.material=r.__origMaterial,delete r.__origMaterial):(r.__origMaterial=r.material,r.material=_)),r===e||!E(r))for(var o=0;o<r.children.length;o++)n(r.children[o])}(e)},L=function(e){var t,n,r;t=b.domElement,n=e,(r=F).x=(n.pageX-t.offsetLeft)/t.offsetWidth*2-1,r.y=-(n.pageY-t.offsetTop)/t.offsetHeight*2+1;var o=function(e,t,n){if(!t)return[];k.setFromCamera(n,e);var r=[];return t.traverse((function(e){return"Mesh"===e.type&&r.push(e)})),k.intersectObjects(r)}(l,M,F).shift()||null,i=o&&function(e){for(var t=e;t&&!E(t);)t=t.parent;return t}(o.object);i!==s&&(s&&(R(s,!0),c(null)),i&&(R(i,!1),c(i)))};return Object(f.jsx)(d.a.mesh,{"position-x":j,"position-y":h,"position-z":w,rotation:[-.5*Math.PI,0,Math.PI],scale:[10,10,10]},Object(f.jsx)("primitive",{ref:y,object:M,dispose:null,onPointerMove:function(e){return L(e)},onPointerOut:function(e){s&&(R(s,!0),c(null))}}))},_=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(x.b)("mode",{type:"select",items:["translate","rotate"]});return Object(r.useEffect)((function(){if(t.current){var r=t.current;r.setMode(n);var o=function(t){return e.current.enabled=!t.value};return r.addEventListener("dragging-changed",o),function(){return r.removeEventListener("dragging-changed",o)}}})),Object(f.jsx)("div",{css:M},Object(f.jsx)(m.a,{camera:{position:[0,5,10]}},Object(f.jsx)("hemisphereLight",{skyColor:"#455A64",groundColor:"#000",intensity:.5,position:[0,1,0]}),Object(f.jsx)("directionalLight",{color:16777215,position:[4,10,1],shadowMapWidth:2048,shadowMapHeight:2048,castShadow:!0}),Object(f.jsx)(r.Suspense,{fallback:null},Object(f.jsx)(w.b,{ref:t,mode:n},Object(f.jsx)(P,{filepath:"https://raw.githubusercontent.com/nakano16180/robot-web-viewer/master/public/urdf/open_manipulator.URDF"})),Object(f.jsx)(w.a,{ref:e})),Object(f.jsx)("gridHelper",{args:[0,0,0]}),Object(f.jsx)("axesHelper",null)),Object(f.jsx)(x.a,null))};function R(){var e=Object(b.a)(["\n  ","\n  *, *::after, *::before {\n    box-sizing: border-box;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-font-smoothing: antialiased;\n    font-smoothing: antialiased;\n  }\n"]);return R=function(){return e},e}var L=Object(f.css)(R(),h.a),A=function(){return Object(f.jsx)("div",null,Object(f.jsx)(f.Global,{styles:L}),Object(f.jsx)(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,null,o.a.createElement(c.a,{basename:"/robot-web-viewer",render:function(e){return o.a.createElement(A,{qs:l.a.parse(e.location.search)})}}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[205,1,2]]]);
//# sourceMappingURL=main.2267f855.chunk.js.map