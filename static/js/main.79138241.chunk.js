(this["webpackJsonprobot-web-viewer"]=this["webpackJsonprobot-web-viewer"]||[]).push([[0],{205:function(e,t,n){e.exports=n(493)},493:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(49),i=n.n(a),c=n(200),s=n(21),l=n(189),u=n.n(l),f=n(89),b=n(20),h=n(190),j=n.n(h),d=n(8),g=n(0),v=n(7),m=n(99),p=n(96),O=n(201),w=n(139),x=n(140);function M(){var e=Object(f.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: #272727;\n"]);return M=function(){return e},e}var F=Object(b.css)(M()),y=new g.Vector2,k=new g.Raycaster,E=function(e){return e.isURDFJoint&&"fixed"!==e.jointType},_=function(e){var t=e.filepath,n=o.a.useState(null),a=Object(d.a)(n,2),i=a[0],c=a[1],s=Object(v.h)(),l=s.camera,u=s.gl,f=Object(r.useRef)(),h=Object(v.g)(O.a,t,(function(e){e.loadMeshFunc=function(e,t,n){new p.a(t).load(e,(function(e){var t=new g.MeshPhongMaterial,r=new g.Mesh(e,t);n(r)}),null,(function(e){return n(null,e)}))},e.fetchOptions={headers:{Accept:"application/vnd.github.v3.raw"}}})),j=new g.MeshPhongMaterial({shininess:10,color:"#FFFFFF",emissive:"#FFFFFF",emissiveIntensity:.25}),w=function(e,t){!function n(r){if("Mesh"===r.type&&(t?(r.material=r.__origMaterial,delete r.__origMaterial):(r.__origMaterial=r.material,r.material=j)),r===e||!E(r))for(var o=0;o<r.children.length;o++)n(r.children[o])}(e)};return Object(b.jsx)(m.a.mesh,{rotation:[-.5*Math.PI,0,Math.PI],scale:[10,10,10]},Object(b.jsx)("primitive",{ref:f,object:h,dispose:null,onPointerMove:function(e){var t,n,r;t=u.domElement,n=e,(r=y).x=(n.pageX-t.offsetLeft)/t.offsetWidth*2-1,r.y=-(n.pageY-t.offsetTop)/t.offsetHeight*2+1;var o=function(e,t,n){if(!t)return[];k.setFromCamera(n,e);var r=[];return t.traverse((function(e){return"Mesh"===e.type&&r.push(e)})),k.intersectObjects(r)}(l,h,y).shift()||null,a=o&&function(e){for(var t=e;t&&!E(t);)t=t.parent;return t}(o.object);a!==i&&(i&&(w(i,!0),c(null)),a&&(w(a,!1),c(a)))},onPointerOut:function(){i&&(w(i,!0),c(null))}}))},P=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(x.b)("mode",{type:"select",items:["translate","rotate"]});return Object(r.useEffect)((function(){if(t.current){var r=t.current;r.setMode(n);var o=function(t){return e.current.enabled=!t.value};return r.addEventListener("dragging-changed",o),function(){return r.removeEventListener("dragging-changed",o)}}})),Object(b.jsx)("div",{css:F},Object(b.jsx)(v.a,{camera:{position:[0,5,10]}},Object(b.jsx)("hemisphereLight",{skyColor:"#455A64",groundColor:"#000",intensity:.5,position:[0,1,0]}),Object(b.jsx)("directionalLight",{color:16777215,position:[4,10,1],shadowMapWidth:2048,shadowMapHeight:2048,castShadow:!0}),Object(b.jsx)(r.Suspense,{fallback:null},Object(b.jsx)(w.b,{ref:t,mode:n},Object(b.jsx)(_,{filepath:"https://raw.githubusercontent.com/nakano16180/robot-web-viewer/master/public/urdf/open_manipulator.URDF"})),Object(b.jsx)(w.a,{ref:e})),Object(b.jsx)("gridHelper",{args:[0,0,0]}),Object(b.jsx)("axesHelper",null)),Object(b.jsx)(x.a,null))};function R(){var e=Object(f.a)(["\n  ","\n  *, *::after, *::before {\n    box-sizing: border-box;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-font-smoothing: antialiased;\n    font-smoothing: antialiased;\n  }\n"]);return R=function(){return e},e}var L=Object(b.css)(R(),j.a),H=function(){return Object(b.jsx)("div",null,Object(b.jsx)(b.Global,{styles:L}),Object(b.jsx)(P,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c.a,null,o.a.createElement(s.a,{basename:"/robot-web-viewer",render:function(e){return o.a.createElement(H,{qs:u.a.parse(e.location.search)})}}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[205,1,2]]]);
//# sourceMappingURL=main.79138241.chunk.js.map